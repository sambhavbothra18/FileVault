<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h2 class="mb-0"><%= @uploaded_file.title %></h2>
        <span class="badge bg-success fs-6">
          <i class="bi bi-globe"></i> Public File
        </span>
      </div>
      
      <div class="card-body">
        <% if @uploaded_file.description.present? %>
          <div class="mb-4">
            <h5>Description</h5>
            <p class="text-muted"><%= simple_format(@uploaded_file.description) %></p>
          </div>
        <% end %>

        <div class="row mb-4">
          <div class="col-md-6">
            <h6>File Information</h6>
            <table class="table table-sm">
              <tr>
                <td><strong>Filename:</strong></td>
                <td><%= @uploaded_file.filename %></td>
              </tr>
              <tr>
                <td><strong>File Size:</strong></td>
                <td><%= @uploaded_file.formatted_file_size %></td>
              </tr>
              <tr>
                <td><strong>File Type:</strong></td>
                <td><%= @uploaded_file.file_type %></td>
              </tr>
              <tr>
                <td><strong>Shared:</strong></td>
                <td><%= @uploaded_file.created_at.strftime('%B %d, %Y') %></td>
              </tr>
            </table>
          </div>
          
          <div class="col-md-6">
            <h6>File Preview</h6>
            <div class="border rounded p-3 text-center bg-light">
              <% if @uploaded_file.vault_file.content_type&.start_with?('image/') %>
                <%= image_tag @uploaded_file.vault_file, class: "img-fluid", style: "max-height: 200px;" %>
              <% else %>
                <i class="bi bi-file-earmark display-3 text-muted"></i>
                <div class="mt-2 text-muted">
                  <%= @uploaded_file.file_type || "Unknown file type" %>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>

      <div class="card-footer text-center">
        <%= link_to public_file_download_path(@uploaded_file.public_share_token), 
            class: "btn btn-success btn-lg" do %>
          <i class="bi bi-download"></i> Download File
        <% end %>
        
        <div class="mt-3">
          <small class="text-muted">
            This is a publicly shared file. 
            <%= link_to "Create your own account", new_user_registration_path, class: "text-decoration-none" %> 
            to upload and share files.
          </small>
        </div>
      </div>
    </div>
  </div>
</div>